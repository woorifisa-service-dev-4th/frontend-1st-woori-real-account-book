<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- JSXë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì˜ì¡´ì„±(Babel) ì¶”ê°€ -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="../public/css/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
<div id="root"></div>


<script type="text/babel">
    const { useState } = React;

    /**
     * ì‚¬ìš©ì ì •ë³´ ì»´í¬ë„ŒíŠ¸
     */
    const UserInfo = () => {
        const [name, setName] = useState('í™ê¸¸ë™');

        return (
            <div className="flex flex-row items-center gap-2">
                <img src="../public/images/user-profile-default.png" alt="user profile" className="w-[30px] h-[30px]"/>
                <p className="weight-600">{name}</p>
            </div>
        );
    }

    /**
     * ë‚ ì§œ Provider
     */
    const DateProvider = () => {
        const [selectDate, setSelectDate] = useState(new Date()); // new Date í˜•ì‹: 2025-01-01

        // í˜„ì¬ ë‚ ì§œ ì¡°íšŒ (ex. 2025.01)
        const getNowDate = () => {
            return selectDate.getFullYear() + '.' + (selectDate.getMonth() + 1).toString().padStart(2, '0');
        }

        // ì´ì „ ë‹¬ë¡œ ì´ë™
        const movePrevDate = () => {
            // ì´ë™ ê°€ëŠ¥ ë²”ìœ„: 2024.08 ~ 2025.01
            if (!(selectDate.getFullYear() === 2024 && selectDate.getMonth() === 7)) {
                setSelectDate(new Date(selectDate.getFullYear(), selectDate.getMonth() - 1));
            }
        }

        // ë‹¤ìŒ ë‹¬ë¡œ ì´ë™
        const moveNextDate = () => {
            // ì´ë™ ê°€ëŠ¥ ë²”ìœ„: 2024.08 ~ 2025.01
            if (!(selectDate.getFullYear() === 2025 && selectDate.getMonth() === 0)) {
                setSelectDate(new Date(selectDate.getFullYear(), selectDate.getMonth() + 1));
            }
        }

        return { getNowDate, movePrevDate, moveNextDate, selectDate };
    };

    /**
     * í—¤ë” ë‚ ì§œ ì»´í¬ë„ŒíŠ¸
     * - ê°€ëŠ¥ ë²”ìœ„: 2024.08 ~ 2025.01
     */
    const SelectedDate = () => {
        const { getNowDate, movePrevDate, moveNextDate, selectDate } = DateProvider();
        const selectedDate = getNowDate(); // í˜„ì¬ ë‚ ì§œ ì¡°íšŒ

        return (
            <div className="absolute top-[60px] left-1/2 transform -translate-x-1/2 text-center">
                <h1 className="dark-mode-light-gray text-[#3C3C3C] text-[16px] weight-600">
                    ìš°ë¦¬ REAL ê°€ê³„ë¶€
                </h1>
                <div className="flex flex-row items-center justify-center gap-2">
                    <button className="p-2 cursor-pointer" onClick={movePrevDate}>
                        <img id="prevDateBtn" src="../public/images/vector-left-gray-icon.png" alt="left icon" className="w-[22px]"/>
                    </button>
                    <p id="nowDate" className="weight-600 text-[36px]">
                        {selectedDate}
                    </p>
                    <button className="p-2 cursor-pointer" onClick={moveNextDate}>
                        <img id="nextDateBtn" src="../public/images/vector-right-gray-icon.png" alt="right icon" className="w-[22px]"/>
                    </button>
                </div>
            </div>
        );
    }

    /**
     * ë°¤ ë‚® ëª¨ë“œ ë³€ê²½ ì»´í¬ë„ŒíŠ¸
     * - ë°¤ ëª¨ë“œ: nightMode ë²„íŠ¼ í´ë¦­ ì‹œ, ë°¤ ëª¨ë“œë¡œ ë³€ê²½ (night-mode í´ë˜ìŠ¤ toggle, nightMode hidden add, dayMode hidden remove)
     * - ë‚® ëª¨ë“œ: dayMode ë²„íŠ¼ í´ë¦­ ì‹œ, ë‚® ëª¨ë“œë¡œ ë³€ê²½ (night-mode í´ë˜ìŠ¤ toggle, nightMode hidden remove, dayMode hidden add)
     */
    const NightDayMode = () => {
        const [isNightMode, setIsNightMode] = useState(false);

        return (
            <>
                <button className="px-2 py-1"
                        onClick={() => { setIsNightMode(!isNightMode); }}>
                    <img id="nightMode" className="w-[30px] h-[30px]" alt="night mode"
                         src={isNightMode ? "../public/images/night-mode-btn.png" : "../public/images/day-mode-btn.png"}/>
                </button>
            </>
        );
    }

    // ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
    const MoveButton = (props) => {
        const {content, moveUrl} = props;

        return (
            <button
                className="hover:bg-[#506CFF] hover:text-white rounded-[8px] border border-[#506CFF] text-[#506CFF] text-[14px] weight-600 px-[21px] py-[5px]"
                onClick={() => {
                    location.href = moveUrl;
                }}>
                {content}
            </button>
        );
    }

    /**
     * ìƒë‹¨ í—¤ë” ì»´í¬ë„ŒíŠ¸
     */
    const Header = () => {
        return (
            <div className="flex flex-row justify-between w-full items-end h-[78px]">
                <UserInfo/>
                <SelectedDate/>

                <div className="flex flex-col items-end h-full justify-between">
                    <NightDayMode/>
                    <div className="flex flex-row gap-2">
                        <MoveButton content={"ë¶„ì„ ë³´ê¸°"}
                                    moveUrl={"category-analysis.html"}/>
                        <MoveButton content={"ë‚´ì—­ ë“±ë¡"}
                                    moveUrl={"transaction-register.html"} />
                    </div>
                </div>
            </div>
        );
    }

    /**
     * ì´ ìˆ˜ì…/ì§€ì¶œ ì»´í¬ë„ŒíŠ¸
     */
    const TotalIncomeExpend = () => {

        return (
            <div className="flex flex-row w-full justify-between">
                <div
                    className="hover:bg-[#d9dfff] flex flex-col justify-between rounded-[16px] bg-[#E6EAFF] p-5 w-[327px] h-[180px]">
                    <p className="black-text weight-600 text-[18px]"><span className="nowMonth">1</span>ì›” ì´ ìˆ˜ì…</p>

                    <div className="flex flex-col">
                        <p id="incomeChangeMessage"
                           className="dark-gray-text text-[#5E5E5E] text-[14px] weight-500">12ì›”ë³´ë‹¤ 1,000,000ì› ëŠ˜ì—ˆì–´ìš”ğŸ¥°</p>
                        <p id="totalIncomeAmount" className="black-text weight-600 text-[26px]">0ì›</p>
                    </div>
                </div>

                <div
                    className="hover:bg-[#3959ff] flex flex-col justify-between rounded-[16px] bg-[#506CFF] p-5 w-[327px] h-[180px]">
                    <p className="weight-600 text-[18px] text-white"><span className="nowMonth">1</span>ì›” ì´ ì§€ì¶œ</p>

                    <div className="flex flex-col">
                        <p id="expendChangeMessage"
                           className="text-[#5E5E5E] text-[14px] text-[#DBDBDB] weight-500">12ì›”ë³´ë‹¤ 1,000,000ì› ë” ì¼ì–´ìš”ğŸ˜¢</p>
                        <p id="totalExpendAmount" className="weight-600 text-[26px] text-white">0ì›</p>
                    </div>
                </div>
            </div>
        );
    };


    // ============================================


    // í—¤ë” ë‚ ì§œ ê°€ì ¸ì˜¤ê¸°
    // const DataContent = createContext();
    // export const DateProvider = ({children}) => {
    //     const [selectDate, setSelectDate] = useState(new Date(2025, 0, 1));
    //
    //     return (
    //         <DateContext.Provider value={{selectDate, setSelectDate}}>
    //             {children}
    //         </DateContext.Provider>
    //     );
    // };

    // export const useDate = () => useContext(DateContext);


    // const Footer = () => {
    //     return (
    //         <div>
    //             <FooterBtn/>
    //             <FooterDetailContents/>
    //         </div>
    //     );
    // }
    //
    // //í•˜ë‹¨ ë²„íŠ¼ ê³µí†µ ì»µí¬ë„ŒíŠ¸
    // const FooterBtn = () => {
    //     return (
    //         <div className="min-w-[675px]">
    //             <FooterDetailMonth/>
    //             <div className="flex justify-between mt-4">
    //                 <div className="flex flex-row gap-2">
    //                     // ButtonGroup
    //                     // <button id="incomeBtn"
    //                     //         className="bg-[rgb(47,82,255)] text-white hover:bg-[rgb(47,82,255)] hover:text-white rounded-[8px]  text-[14px] weight-600 px-[21px] py-[5px]"
    //                     //         onClick="">ìˆ˜ì…
    //                     // </button>
    //                     // <button id="expendBtn"
    //                     //         className="bg-[#EEEEEE] text-[#282828] hover:bg-[rgb(47,82,255)] hover:text-white rounded-[8px]  text-[14px] weight-600 px-[21px] py-[5px]"
    //                     //         onClick=""> ì§€ì¶œ
    //                     // </button>
    //                 </div>
    //                 <p id="detailCounts"
    //                    className="text-[14px] weight-500 border-2 px-[12px] py-[4px] rounded-[8px] border-[#3D3D3D]">13ê±´</p>
    //             </div>
    //         </div>
    //     );
    // }
    //
    // const FooterDetailMonth = () => {
    //     return (
    //         <h1 className="weight-600 text-[20px]"><span id="detailMonth">01</span>ì›” ë‚´ì—­</h1>
    //     );
    // }
    //
    //
    // const FooterDetailContents = () => {
    //     return (
    //             <div id="detailContentsDiv">
    //             <div className="min-w-[675px]">
    //                 <h1 className="text-base weight-500">2024.01.01</h1>
    //                 <div className="flex justify-between mt-4">
    //                     <ul className="flex flex-row">
    //                          <li className="text-[14px] weight-600 border-2 px-[21px] py-[5px] rounded-[8px] text-[#D61F1F] border-[#D61F1F]">
    //                             ì‹ë¹„
    //                         </li>
    //                         <li className="text-[14px] weight-600 px-[21px] py-[5px] text-center">
    //                             ì§œì¥ë©´
    //                         </li>
    //                         <li className="text-[14px] weight-600 px-[21px] py-[5px] text-[#484848]">
    //                             ì¹´ë“œ
    //                         </li>
    //                     </ul>
    //                     <div className="text-[14px] weight-600 px-[21px] py-[5px] text-[#D61F1F]">
    //                         -9,000ì›
    //                     </div>
    //                 </div>
    //
    //                 <div className="border-[#DBDBDB] border-t border-[1px] my-5"></div>
    //             </div>
    //         </div>
    //
    //     );
    // }


    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(
        <div className="flex flex-col items-center pt-[50px] pb-[70px]">
            <div className="min-w-[675px] min-h-content">
                <div className="flex flex-col items-center gap-14 w-full">
                    <Header/>
                    <TotalIncomeExpend />

                </div>
            </div>
        </div>
    );
</script>
</body>

</html>
